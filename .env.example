# LLM API Key (选择你使用的 LLM 提供商)
OPENAI_API_KEY=sk-your-openai-key-here
# OPENAI_BASE_URL=https://api.openai.com/v1

# PostgreSQL 配置（必填）
POSTGRES_CONNECTION_STRING=postgresql://wjbot:wjbot123456@localhost:54320/wjbotexport
# 可选：隔离 schema（默认 public）
POSTGRES_SCHEMA=public

# PostgreSQL 连接池（默认开启，缺少 psycopg_pool 时自动降级）
POSTGRES_POOL_ENABLED=1
POSTGRES_POOL_MIN_SIZE=1
POSTGRES_POOL_MAX_SIZE=10
POSTGRES_POOL_TIMEOUT_SEC=10

# LLM 配置
LLM_MODEL=gpt-4o
LLM_TEMPERATURE=0.7
LLM_TIMEOUT=120
LLM_MAX_RETRIES=3

# Gateway 配置
GATEWAY_TIMEOUT=240
GATEWAY_MAX_ATTEMPTS=2
COMMAND_CARD_TIMEOUT_SEC=240
GATEWAY_MIN_QUALITY_SCORE=25

# 拓扑提案配置
TOPOLOGY_PROPOSAL_ENABLED=1
TOPOLOGY_APPROVAL_TTL_SEC=120
TOPOLOGY_APPROVAL_ARCHIVE_DAYS=30

# Dashboard 配置
DASHBOARD_SSE_SYNC_SEC=5
AUDIT_LOG_LIMIT=100
SYSTEM_LOG_LIMIT=100

# Agent 运行时配置
AGENT_GC_ENABLED=1
AGENT_GC_INTERVAL_SEC=30
AGENT_GC_GENERATION=2
AGENT_MEMORY_WARN_MB=0

# 日志级别
LOG_LEVEL=INFO

# 日志轮转（字节）
AUDIT_LOG_MAX_BYTES=5242880
AUDIT_LOG_BACKUP_COUNT=3
SYSTEM_LOG_MAX_BYTES=5242880
SYSTEM_LOG_BACKUP_COUNT=3

# 拓扑配置备份
CONFIG_BACKUP_ENABLED=1
CONFIG_BACKUP_KEEP=50
