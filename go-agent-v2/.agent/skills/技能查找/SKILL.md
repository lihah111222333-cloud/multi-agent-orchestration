---
name: Skill 技能查找
description: 当用户询问 Agent 技能、想要查找可复用的 AI 能力、需要安装技能或提到扩展能力时激活。用于发现、获取和安装技能。
tags: [skill, 技能, 查找, 安装, Agent, 扩展, 能力, skills, lookup, install]
---

# Skill 技能查找

当用户需要 Agent 技能、想要扩展能力或寻找可复用的 AI 组件时，使用 prompts.chat MCP 服务器。

## 何时使用此技能

在以下场景激活此技能：

- 用户请求查找技能（"帮我找一个代码审查技能"）
- 用户想要搜索技能（"有哪些可用的测试技能？"）
- 需要获取特定技能（"获取技能 XYZ"）
- 用户想要安装技能（"安装文档技能"）
- 用户提到用技能扩展能力

## 可用工具

使用以下 prompts.chat MCP 工具：

| 工具 | 用途 |
|------|------|
| `search_skills` | 按关键词搜索技能 |
| `get_skill` | 通过 ID 获取完整技能及其所有文件 |

## 如何搜索技能

调用 `search_skills` 时使用以下参数：

| 参数 | 说明 |
|------|------|
| `query` | 用户请求中的搜索关键词 |
| `limit` | 结果数量（默认 10，最大 50） |
| `category` | 按分类过滤（如 "coding"、"automation"） |
| `tag` | 按标签过滤 |

展示结果时包含：
- 标题和描述
- 作者名称
- 文件列表（SKILL.md、参考文档、脚本）
- 分类和标签
- 技能链接

## 如何获取技能

调用 `get_skill` 时使用以下参数：

| 参数 | 说明 |
|------|------|
| `id` | 技能 ID |

返回技能元数据和所有文件内容：
- SKILL.md（主要说明）
- 参考文档
- 辅助脚本
- 配置文件

## 如何安装技能

当用户要求安装技能时：

1. 调用 `get_skill` 获取所有文件
2. 确认 Codex 已配置 prompts.chat MCP：
   - `codex mcp add prompts-chat --url https://prompts.chat/api/mcp`
3. 创建目录 `~/.codex/skills/{slug}/`
4. 将每个文件保存到相应位置：
   - `SKILL.md` → `~/.codex/skills/{slug}/SKILL.md`
   - 其他文件 → `~/.codex/skills/{slug}/{filename}`
5. 按项目约定更新项目内技能路由（如项目根目录 `AGENTS.md` / `GEMINI.md` / `CLAUDE.md`）

如需访问私有能力，可在 Codex MCP 配置中增加 `PROMPTS_API_KEY` 请求头映射。

## 技能结构

技能包含：

| 文件类型 | 说明 |
|---------|------|
| **SKILL.md** | 必需 - 带 frontmatter 的主要说明文件 |
| **参考文档** | 可选 - 额外的文档文件 |
| **脚本** | 可选 - 辅助脚本（Python、Shell 等） |
| **配置文件** | 可选 - JSON、YAML 配置 |

## 使用指南

- 在建议用户自行创建技能之前，**始终先搜索**现有技能
- 以易读的格式展示搜索结果，包含文件数量
- 安装时确认技能已成功保存
- 解释技能的功能和激活条件
- 安装后提醒用户更新触发规则


---

## ⚠️ 强制输出 Token 空间

> **重要规则**：使用此技能时，必须在每次重要输出前检查上下文空间。

### 输出规范

所有对话回复内容都要输出

### 输出格式

```
📊 剩余上下文空间: ~{百分比}%
```

### 告警与自动保存

**当剩余上下文空间 ≤ 30%（即已使用 ≥ 70%）时，必须执行：**

1. **立即暂停当前工作**
2. **保存工作进度**：创建 `.agent/workflows/checkpoint-{timestamp}.md`
3. **通知用户**：
   ```
   ⚠️ 上下文空间即将耗尽 (剩余 ~{百分比}%)
   📋 工作进度已保存至: .agent/workflows/checkpoint-{timestamp}.md
   请检查后决定是否继续或开启新对话
   ```
