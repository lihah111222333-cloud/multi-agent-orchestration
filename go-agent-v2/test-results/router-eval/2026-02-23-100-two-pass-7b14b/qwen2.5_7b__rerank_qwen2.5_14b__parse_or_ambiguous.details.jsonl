{"id": 1, "query": "请先打开 internal/apiserver/methods.go 文件，我要开始分析。", "expected_primary": "lsp_open_file", "expected_tools": ["lsp_open_file"], "stage1_pred_tools": ["lsp_open_file"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_open_file\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_open_file"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 1.234, "stage2_latency_s": 0.0, "latency_s": 1.234}
{"id": 2, "query": "先把 internal/lsp/manager.go 打开到 LSP 上下文里。", "expected_primary": "lsp_open_file", "expected_tools": ["lsp_open_file"], "stage1_pred_tools": ["lsp_open_file"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_open_file\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_open_file"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.603, "stage2_latency_s": 0.0, "latency_s": 0.603}
{"id": 3, "query": "分析前先 open 这个文件：cmd/agent-terminal/main.go。", "expected_primary": "lsp_open_file", "expected_tools": ["lsp_open_file"], "stage1_pred_tools": ["lsp_open_file"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_open_file\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_open_file"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.6395, "stage2_latency_s": 0.0, "latency_s": 0.6395}
{"id": 4, "query": "把 pkg/logger/logger.go 先加载到编辑器上下文。", "expected_primary": "lsp_open_file", "expected_tools": ["lsp_open_file"], "stage1_pred_tools": ["lsp_open_file"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_open_file\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_open_file"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.6322, "stage2_latency_s": 0.0, "latency_s": 0.6322}
{"id": 5, "query": "先打开 internal/config/config.go，后面再看代码。", "expected_primary": "lsp_open_file", "expected_tools": ["lsp_open_file"], "stage1_pred_tools": ["lsp_open_file", "lsp_document_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_open_file\",\"lsp_document_symbol\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_open_file", "lsp_document_symbol"], "stage2_selected_tool": "lsp_open_file", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_open_file\"}", "final_pred_tools": ["lsp_open_file", "lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.8549, "stage2_latency_s": 1.1166, "latency_s": 1.9715}
{"id": 6, "query": "列出 internal/lsp/manager.go 的函数和类型大纲。", "expected_primary": "lsp_document_symbol", "expected_tools": ["lsp_document_symbol"], "stage1_pred_tools": ["lsp_document_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5683, "stage2_latency_s": 0.0, "latency_s": 0.5683}
{"id": 7, "query": "给我这个文件的 symbol 列表（函数/方法/结构体）。", "expected_primary": "lsp_document_symbol", "expected_tools": ["lsp_document_symbol"], "stage1_pred_tools": ["lsp_document_symbol", "lsp_workspace_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\",\"lsp_workspace_symbol\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_document_symbol", "lsp_workspace_symbol"], "stage2_selected_tool": "lsp_document_symbol", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_document_symbol\"}", "final_pred_tools": ["lsp_document_symbol", "lsp_workspace_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.7421, "stage2_latency_s": 1.05, "latency_s": 1.792}
{"id": 8, "query": "查看 cmd/agent-terminal/main.go 的文档符号树。", "expected_primary": "lsp_document_symbol", "expected_tools": ["lsp_document_symbol"], "stage1_pred_tools": ["lsp_document_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.513, "stage2_latency_s": 0.0, "latency_s": 0.513}
{"id": 9, "query": "我想看 internal/apiserver/server.go 的 outline。", "expected_primary": "lsp_document_symbol", "expected_tools": ["lsp_document_symbol"], "stage1_pred_tools": ["lsp_document_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5005, "stage2_latency_s": 0.0, "latency_s": 0.5005}
{"id": 10, "query": "请返回这个 Go 文件的顶层符号清单。", "expected_primary": "lsp_document_symbol", "expected_tools": ["lsp_document_symbol"], "stage1_pred_tools": ["lsp_document_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.497, "stage2_latency_s": 0.0, "latency_s": 0.497}
{"id": 11, "query": "在 internal/lsp/manager.go 第120行第15列做 hover 看类型说明。", "expected_primary": "lsp_hover", "expected_tools": ["lsp_hover"], "stage1_pred_tools": ["lsp_hover"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_hover\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_hover"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4693, "stage2_latency_s": 0.0, "latency_s": 0.4693}
{"id": 12, "query": "帮我查看变量 ctx 的 hover 文档。", "expected_primary": "lsp_hover", "expected_tools": ["lsp_hover"], "stage1_pred_tools": ["lsp_hover"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_hover\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_hover"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.471, "stage2_latency_s": 0.0, "latency_s": 0.471}
{"id": 13, "query": "鼠标悬停位置 line 45 col 18，取出注释与签名。", "expected_primary": "lsp_hover", "expected_tools": ["lsp_hover"], "stage1_pred_tools": ["lsp_hover", "lsp_signature_help"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_hover\",\"lsp_signature_help\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_hover", "lsp_signature_help"], "stage2_selected_tool": "lsp_hover", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_hover\"}", "final_pred_tools": ["lsp_hover", "lsp_signature_help"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.7085, "stage2_latency_s": 1.0649, "latency_s": 1.7734}
{"id": 14, "query": "看一下函数 NewServer 在该位置的 hover 信息。", "expected_primary": "lsp_hover", "expected_tools": ["lsp_hover"], "stage1_pred_tools": ["lsp_hover"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_hover\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_hover"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4919, "stage2_latency_s": 0.0, "latency_s": 0.4919}
{"id": 15, "query": "需要目标符号的类型文档，请走 hover。", "expected_primary": "lsp_hover", "expected_tools": ["lsp_hover"], "stage1_pred_tools": ["lsp_hover"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_hover\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_hover"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5179, "stage2_latency_s": 0.0, "latency_s": 0.5179}
{"id": 16, "query": "检查 internal/lsp/manager.go 当前诊断错误和警告。", "expected_primary": "lsp_diagnostics", "expected_tools": ["lsp_diagnostics"], "stage1_pred_tools": ["lsp_diagnostics"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_diagnostics\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_diagnostics"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.537, "stage2_latency_s": 0.0, "latency_s": 0.537}
{"id": 17, "query": "读取这个文件的 diagnostics。", "expected_primary": "lsp_diagnostics", "expected_tools": ["lsp_diagnostics"], "stage1_pred_tools": ["lsp_diagnostics"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_diagnostics\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_diagnostics"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5409, "stage2_latency_s": 0.0, "latency_s": 0.5409}
{"id": 18, "query": "看下有没有编译错误、lint 警告。", "expected_primary": "lsp_diagnostics", "expected_tools": ["lsp_diagnostics"], "stage1_pred_tools": ["lsp_diagnostics"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_diagnostics\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_diagnostics"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5588, "stage2_latency_s": 0.0, "latency_s": 0.5588}
{"id": 19, "query": "请返回最新诊断列表。", "expected_primary": "lsp_diagnostics", "expected_tools": ["lsp_diagnostics"], "stage1_pred_tools": ["lsp_diagnostics"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_diagnostics\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_diagnostics"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.597, "stage2_latency_s": 0.0, "latency_s": 0.597}
{"id": 20, "query": "我需要当前文件问题清单（error/warning）。", "expected_primary": "lsp_diagnostics", "expected_tools": ["lsp_diagnostics"], "stage1_pred_tools": ["lsp_diagnostics"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_diagnostics\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_diagnostics"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5724, "stage2_latency_s": 0.0, "latency_s": 0.5724}
{"id": 21, "query": "跳到 symbol ParseConfig 的定义位置。", "expected_primary": "lsp_definition", "expected_tools": ["lsp_definition"], "stage1_pred_tools": ["lsp_definition"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_definition\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_definition", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_definition\"}", "final_pred_tools": ["lsp_definition"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5506, "stage2_latency_s": 0.9307, "latency_s": 1.4813}
{"id": 22, "query": "找到这个调用点对应函数定义。", "expected_primary": "lsp_definition", "expected_tools": ["lsp_definition"], "stage1_pred_tools": ["lsp_definition"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_definition\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_definition", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_definition\"}", "final_pred_tools": ["lsp_definition"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4667, "stage2_latency_s": 0.8219, "latency_s": 1.2885}
{"id": 23, "query": "定位变量 server 的定义。", "expected_primary": "lsp_definition", "expected_tools": ["lsp_definition"], "stage1_pred_tools": ["lsp_definition"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_definition\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_definition", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_definition\"}", "final_pred_tools": ["lsp_definition"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4711, "stage2_latency_s": 0.8524, "latency_s": 1.3235}
{"id": 24, "query": "根据 line/column 跳转定义。", "expected_primary": "lsp_definition", "expected_tools": ["lsp_definition"], "stage1_pred_tools": ["lsp_open_file"], "stage1_top1_ok": false, "stage1_hit_primary_ok": false, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_open_file\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_open_file"], "top1_ok": false, "hit_primary_ok": false, "exact_set_ok": false, "stage1_latency_s": 0.5173, "stage2_latency_s": 0.0, "latency_s": 0.5173}
{"id": 25, "query": "请执行 go to definition。", "expected_primary": "lsp_definition", "expected_tools": ["lsp_definition"], "stage1_pred_tools": ["lsp_definition"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_definition\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_definition", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_definition\"}", "final_pred_tools": ["lsp_definition"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5065, "stage2_latency_s": 0.9746, "latency_s": 1.4811}
{"id": 26, "query": "查找函数 registerMethods 的所有引用。", "expected_primary": "lsp_references", "expected_tools": ["lsp_references"], "stage1_pred_tools": ["lsp_references"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_references\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_references"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4988, "stage2_latency_s": 0.0, "latency_s": 0.4988}
{"id": 27, "query": "列出符号 Config 在项目内被使用的位置。", "expected_primary": "lsp_references", "expected_tools": ["lsp_references"], "stage1_pred_tools": ["lsp_document_symbol", "lsp_references"], "stage1_top1_ok": false, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\",\"lsp_references\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_document_symbol", "lsp_references"], "stage2_selected_tool": "lsp_references", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_references\"}", "final_pred_tools": ["lsp_references", "lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.6625, "stage2_latency_s": 0.8308, "latency_s": 1.4933}
{"id": 28, "query": "找出变量 logger 的 references。", "expected_primary": "lsp_references", "expected_tools": ["lsp_references"], "stage1_pred_tools": ["lsp_references"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_references\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_references"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4566, "stage2_latency_s": 0.0, "latency_s": 0.4566}
{"id": 29, "query": "我要看该方法的全部调用点。", "expected_primary": "lsp_references", "expected_tools": ["lsp_references"], "stage1_pred_tools": ["lsp_references"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_references\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_references"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4599, "stage2_latency_s": 0.0, "latency_s": 0.4599}
{"id": 30, "query": "执行 find references。", "expected_primary": "lsp_references", "expected_tools": ["lsp_references"], "stage1_pred_tools": ["lsp_references"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_references\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_references"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4567, "stage2_latency_s": 0.0, "latency_s": 0.4567}
{"id": 31, "query": "把变量 oldName 安全重命名为 newName。", "expected_primary": "lsp_rename", "expected_tools": ["lsp_rename"], "stage1_pred_tools": ["lsp_rename"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_rename\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_rename"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4849, "stage2_latency_s": 0.0, "latency_s": 0.4849}
{"id": 32, "query": "跨文件把函数 Foo 重命名成 FooV2。", "expected_primary": "lsp_rename", "expected_tools": ["lsp_rename"], "stage1_pred_tools": ["lsp_rename"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_rename\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_rename"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4648, "stage2_latency_s": 0.0, "latency_s": 0.4648}
{"id": 33, "query": "执行符号 rename，更新所有引用。", "expected_primary": "lsp_rename", "expected_tools": ["lsp_rename"], "stage1_pred_tools": ["lsp_rename", "lsp_references"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_rename\",\"lsp_references\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_rename", "lsp_references"], "stage2_selected_tool": "lsp_rename", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_rename\"}", "final_pred_tools": ["lsp_rename", "lsp_references"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.6173, "stage2_latency_s": 0.8159, "latency_s": 1.4332}
{"id": 34, "query": "我要批量重命名类型 UserDTO 为 UserPayload。", "expected_primary": "lsp_rename", "expected_tools": ["lsp_rename"], "stage1_pred_tools": ["lsp_rename"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_rename\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_rename"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4637, "stage2_latency_s": 0.0, "latency_s": 0.4637}
{"id": 35, "query": "对光标处标识符做安全重命名。", "expected_primary": "lsp_rename", "expected_tools": ["lsp_rename"], "stage1_pred_tools": ["lsp_rename"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_rename\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_rename"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4597, "stage2_latency_s": 0.0, "latency_s": 0.4597}
{"id": 36, "query": "在 internal/lsp/client.go 第88行第12列请求补全建议。", "expected_primary": "lsp_completion", "expected_tools": ["lsp_completion"], "stage1_pred_tools": ["lsp_completion"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_completion\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_completion"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4562, "stage2_latency_s": 0.0, "latency_s": 0.4562}
{"id": 37, "query": "给我当前位置的代码补全候选。", "expected_primary": "lsp_completion", "expected_tools": ["lsp_completion"], "stage1_pred_tools": ["lsp_completion"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_completion\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_completion"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4573, "stage2_latency_s": 0.0, "latency_s": 0.4573}
{"id": 38, "query": "触发 completion 看有哪些方法可用。", "expected_primary": "lsp_completion", "expected_tools": ["lsp_completion"], "stage1_pred_tools": ["lsp_completion"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_completion\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_completion"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4644, "stage2_latency_s": 0.0, "latency_s": 0.4644}
{"id": 39, "query": "我在调用链后面输入点号，请返回补全列表。", "expected_primary": "lsp_completion", "expected_tools": ["lsp_completion"], "stage1_pred_tools": ["lsp_completion"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_completion\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_completion"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.472, "stage2_latency_s": 0.0, "latency_s": 0.472}
{"id": 40, "query": "请求自动补全条目。", "expected_primary": "lsp_completion", "expected_tools": ["lsp_completion"], "stage1_pred_tools": ["lsp_completion"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_completion\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_completion"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4562, "stage2_latency_s": 0.0, "latency_s": 0.4562}
{"id": 41, "query": "我刚改了 internal/lsp/manager.go，请通知 LSP 文件已变更。", "expected_primary": "lsp_did_change", "expected_tools": ["lsp_did_change"], "stage1_pred_tools": ["lsp_did_change"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_did_change\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_did_change"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5326, "stage2_latency_s": 0.0, "latency_s": 0.5326}
{"id": 42, "query": "把新的文件内容同步到 language server。", "expected_primary": "lsp_did_change", "expected_tools": ["lsp_did_change"], "stage1_pred_tools": ["lsp_did_change"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_did_change\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_did_change"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5405, "stage2_latency_s": 0.0, "latency_s": 0.5405}
{"id": 43, "query": "执行 didChange 更新文档版本。", "expected_primary": "lsp_did_change", "expected_tools": ["lsp_did_change"], "stage1_pred_tools": ["lsp_did_change"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_did_change\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_did_change"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5365, "stage2_latency_s": 0.0, "latency_s": 0.5365}
{"id": 44, "query": "编辑后请发送文本变更事件。", "expected_primary": "lsp_did_change", "expected_tools": ["lsp_did_change"], "stage1_pred_tools": ["lsp_did_change"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_did_change\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_did_change"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5449, "stage2_latency_s": 0.0, "latency_s": 0.5449}
{"id": 45, "query": "我要刷新 LSP 内存文档内容。", "expected_primary": "lsp_did_change", "expected_tools": ["lsp_did_change"], "stage1_pred_tools": ["lsp_did_change"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_did_change\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_did_change"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5378, "stage2_latency_s": 0.0, "latency_s": 0.5378}
{"id": 46, "query": "全工程搜索符号名 Router。", "expected_primary": "lsp_workspace_symbol", "expected_tools": ["lsp_workspace_symbol"], "stage1_pred_tools": ["lsp_workspace_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_workspace_symbol\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_workspace_symbol", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_workspace_symbol", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_workspace_symbol\"}", "final_pred_tools": ["lsp_workspace_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.503, "stage2_latency_s": 0.8853, "latency_s": 1.3883}
{"id": 47, "query": "在 workspace 范围查找包含 Bootstrap 的符号。", "expected_primary": "lsp_workspace_symbol", "expected_tools": ["lsp_workspace_symbol"], "stage1_pred_tools": ["lsp_workspace_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_workspace_symbol\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_workspace_symbol", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_workspace_symbol", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_workspace_symbol\"}", "final_pred_tools": ["lsp_workspace_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5009, "stage2_latency_s": 0.8916, "latency_s": 1.3926}
{"id": 48, "query": "跨文件按关键字检索 symbol。", "expected_primary": "lsp_workspace_symbol", "expected_tools": ["lsp_workspace_symbol"], "stage1_pred_tools": ["lsp_document_symbol", "lsp_workspace_symbol"], "stage1_top1_ok": false, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\",\"lsp_workspace_symbol\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_document_symbol", "lsp_workspace_symbol"], "stage2_selected_tool": "lsp_workspace_symbol", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_workspace_symbol\"}", "final_pred_tools": ["lsp_workspace_symbol", "lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.7265, "stage2_latency_s": 0.8913, "latency_s": 1.6178}
{"id": 49, "query": "列出项目里名字像 Config 的符号。", "expected_primary": "lsp_workspace_symbol", "expected_tools": ["lsp_workspace_symbol"], "stage1_pred_tools": ["lsp_document_symbol", "lsp_workspace_symbol"], "stage1_top1_ok": false, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\",\"lsp_workspace_symbol\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_document_symbol", "lsp_workspace_symbol"], "stage2_selected_tool": "lsp_workspace_symbol", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_workspace_symbol\"}", "final_pred_tools": ["lsp_workspace_symbol", "lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.7114, "stage2_latency_s": 0.9146, "latency_s": 1.6259}
{"id": 50, "query": "做一次 workspace symbol 查询。", "expected_primary": "lsp_workspace_symbol", "expected_tools": ["lsp_workspace_symbol"], "stage1_pred_tools": ["lsp_workspace_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_workspace_symbol\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_workspace_symbol", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_workspace_symbol", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_workspace_symbol\"}", "final_pred_tools": ["lsp_workspace_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5087, "stage2_latency_s": 0.8931, "latency_s": 1.4018}
{"id": 51, "query": "查找接口 DataProvider 的实现。", "expected_primary": "lsp_implementation", "expected_tools": ["lsp_implementation"], "stage1_pred_tools": ["lsp_definition", "lsp_implementation"], "stage1_top1_ok": false, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_definition\",\"lsp_implementation\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_definition", "lsp_implementation"], "stage2_selected_tool": "lsp_implementation", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_implementation\"}", "final_pred_tools": ["lsp_implementation", "lsp_definition"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.6656, "stage2_latency_s": 0.9131, "latency_s": 1.5787}
{"id": 52, "query": "定位该抽象方法有哪些实现类。", "expected_primary": "lsp_implementation", "expected_tools": ["lsp_implementation"], "stage1_pred_tools": ["lsp_document_symbol", "lsp_workspace_symbol"], "stage1_top1_ok": false, "stage1_hit_primary_ok": false, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\",\"lsp_workspace_symbol\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_document_symbol", "lsp_workspace_symbol", "lsp_implementation"], "stage2_selected_tool": "lsp_implementation", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_implementation\"}", "final_pred_tools": ["lsp_implementation", "lsp_document_symbol", "lsp_workspace_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.706, "stage2_latency_s": 0.9079, "latency_s": 1.6138}
{"id": 53, "query": "我要看这个接口函数的 implementation。", "expected_primary": "lsp_implementation", "expected_tools": ["lsp_implementation"], "stage1_pred_tools": ["lsp_implementation"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_implementation\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_implementation", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_implementation", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_implementation\"}", "final_pred_tools": ["lsp_implementation"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5022, "stage2_latency_s": 0.8938, "latency_s": 1.396}
{"id": 54, "query": "找出 trait Handler 的具体实现。", "expected_primary": "lsp_implementation", "expected_tools": ["lsp_implementation"], "stage1_pred_tools": ["lsp_definition", "lsp_references"], "stage1_top1_ok": false, "stage1_hit_primary_ok": false, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_definition\",\"lsp_references\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_definition", "lsp_references", "lsp_implementation"], "stage2_selected_tool": "lsp_implementation", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_implementation\"}", "final_pred_tools": ["lsp_implementation", "lsp_definition", "lsp_references"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.6203, "stage2_latency_s": 0.8896, "latency_s": 1.5099}
{"id": 55, "query": "执行 go to implementation。", "expected_primary": "lsp_implementation", "expected_tools": ["lsp_implementation"], "stage1_pred_tools": ["lsp_implementation"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_implementation\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_implementation", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_implementation", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_implementation\"}", "final_pred_tools": ["lsp_implementation"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5002, "stage2_latency_s": 0.887, "latency_s": 1.3872}
{"id": 56, "query": "跳到变量 req 的类型定义。", "expected_primary": "lsp_type_definition", "expected_tools": ["lsp_type_definition"], "stage1_pred_tools": ["lsp_type_definition"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_type_definition\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_type_definition", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_type_definition", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_typeDefinition\"}", "final_pred_tools": ["lsp_type_definition"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5067, "stage2_latency_s": 0.817, "latency_s": 1.3237}
{"id": 57, "query": "查看这个字段类型在哪里定义。", "expected_primary": "lsp_type_definition", "expected_tools": ["lsp_type_definition"], "stage1_pred_tools": ["lsp_document_symbol"], "stage1_top1_ok": false, "stage1_hit_primary_ok": false, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_document_symbol"], "top1_ok": false, "hit_primary_ok": false, "exact_set_ok": false, "stage1_latency_s": 0.5062, "stage2_latency_s": 0.0, "latency_s": 0.5062}
{"id": 58, "query": "定位当前符号的 type definition。", "expected_primary": "lsp_type_definition", "expected_tools": ["lsp_type_definition"], "stage1_pred_tools": ["lsp_type_definition"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_type_definition\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_type_definition", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_type_definition", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_type_definition\"}", "final_pred_tools": ["lsp_type_definition"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4976, "stage2_latency_s": 0.8945, "latency_s": 1.3921}
{"id": 59, "query": "这个对象的底层类型声明在哪。", "expected_primary": "lsp_type_definition", "expected_tools": ["lsp_type_definition"], "stage1_pred_tools": ["lsp_type_definition", "lsp_definition"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_typeDefinition\",\"lspDefinition\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_type_definition", "lsp_definition"], "stage2_selected_tool": "lsp_type_definition", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_typeDefinition\"}", "final_pred_tools": ["lsp_type_definition", "lsp_definition"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.6115, "stage2_latency_s": 0.8195, "latency_s": 1.431}
{"id": 60, "query": "请跳转到类型定义位置。", "expected_primary": "lsp_type_definition", "expected_tools": ["lsp_type_definition"], "stage1_pred_tools": ["lsp_type_definition"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_type_definition\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_type_definition", "lsp_definition"], "stage2_selected_tool": "lsp_type_definition", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_type_definition\"}", "final_pred_tools": ["lsp_type_definition"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5054, "stage2_latency_s": 0.904, "latency_s": 1.4094}
{"id": 61, "query": "查看函数 HandleTurn 的调用层级（incoming/outgoing）。", "expected_primary": "lsp_call_hierarchy", "expected_tools": ["lsp_call_hierarchy"], "stage1_pred_tools": ["lsp_call_hierarchy"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_call_hierarchy\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_call_hierarchy"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5027, "stage2_latency_s": 0.0, "latency_s": 0.5027}
{"id": 62, "query": "我要看谁调用了这个方法，以及它调用了谁。", "expected_primary": "lsp_call_hierarchy", "expected_tools": ["lsp_call_hierarchy"], "stage1_pred_tools": ["lsp_call_hierarchy"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_call_hierarchy\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_call_hierarchy"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5086, "stage2_latency_s": 0.0, "latency_s": 0.5086}
{"id": 63, "query": "获取该符号 call hierarchy。", "expected_primary": "lsp_call_hierarchy", "expected_tools": ["lsp_call_hierarchy"], "stage1_pred_tools": ["lsp_call_hierarchy"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_call_hierarchy\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_call_hierarchy"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5048, "stage2_latency_s": 0.0, "latency_s": 0.5048}
{"id": 64, "query": "分析当前函数的调用关系树。", "expected_primary": "lsp_call_hierarchy", "expected_tools": ["lsp_call_hierarchy"], "stage1_pred_tools": ["lsp_call_hierarchy"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_call_hierarchy\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_call_hierarchy"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5064, "stage2_latency_s": 0.0, "latency_s": 0.5064}
{"id": 65, "query": "请求调用层级数据。", "expected_primary": "lsp_call_hierarchy", "expected_tools": ["lsp_call_hierarchy"], "stage1_pred_tools": ["lsp_call_hierarchy", "lsp_implementation"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_call_hierarchy\",\"lsp_implementation\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_call_hierarchy", "lsp_implementation"], "stage2_selected_tool": "lsp_call_hierarchy", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_call_hierarchy\"}", "final_pred_tools": ["lsp_call_hierarchy", "lsp_implementation"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.6949, "stage2_latency_s": 1.1467, "latency_s": 1.8417}
{"id": 66, "query": "查看类型 BaseHandler 的子类型层级。", "expected_primary": "lsp_type_hierarchy", "expected_tools": ["lsp_type_hierarchy"], "stage1_pred_tools": ["lsp_document_symbol", "lsp_workspace_symbol"], "stage1_top1_ok": false, "stage1_hit_primary_ok": false, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\",\"lsp_workspace_symbol\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_document_symbol", "lsp_workspace_symbol", "lsp_type_hierarchy"], "stage2_selected_tool": "lsp_type_hierarchy", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_type_hierarchy\"}", "final_pred_tools": ["lsp_type_hierarchy", "lsp_document_symbol", "lsp_workspace_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 1.9824, "stage2_latency_s": 1.2572, "latency_s": 3.2396}
{"id": 67, "query": "给我该类型的 supertypes 和 subtypes。", "expected_primary": "lsp_type_hierarchy", "expected_tools": ["lsp_type_hierarchy"], "stage1_pred_tools": ["lsp_type_hierarchy"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_type_hierarchy\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_type_hierarchy", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_type_definition", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_typeDefinition\"}", "final_pred_tools": ["lsp_type_definition", "lsp_type_hierarchy"], "top1_ok": false, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.7306, "stage2_latency_s": 0.9897, "latency_s": 1.7203}
{"id": 68, "query": "查询 type hierarchy。", "expected_primary": "lsp_type_hierarchy", "expected_tools": ["lsp_type_hierarchy"], "stage1_pred_tools": ["lsp_type_hierarchy"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_type_hierarchy\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_type_hierarchy", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_type_hierarchy", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_type_hierarchy\"}", "final_pred_tools": ["lsp_type_hierarchy"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5874, "stage2_latency_s": 1.0152, "latency_s": 1.6026}
{"id": 69, "query": "我要看这个类的继承关系。", "expected_primary": "lsp_type_hierarchy", "expected_tools": ["lsp_type_hierarchy"], "stage1_pred_tools": ["lsp_type_hierarchy"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_type_hierarchy\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_type_hierarchy", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_type_definition", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_typeDefinition\"}", "final_pred_tools": ["lsp_type_definition", "lsp_type_hierarchy"], "top1_ok": false, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.5515, "stage2_latency_s": 0.836, "latency_s": 1.3875}
{"id": 70, "query": "分析当前类型上下层结构。", "expected_primary": "lsp_type_hierarchy", "expected_tools": ["lsp_type_hierarchy"], "stage1_pred_tools": ["lsp_type_hierarchy"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_type_hierarchy\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_type_hierarchy", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_type_hierarchy", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_type_hierarchy\"}", "final_pred_tools": ["lsp_type_hierarchy"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5078, "stage2_latency_s": 1.0113, "latency_s": 1.5191}
{"id": 71, "query": "在第 60 行附近获取可用 code actions。", "expected_primary": "lsp_code_action", "expected_tools": ["lsp_code_action"], "stage1_pred_tools": ["lsp_did_change", "lsp_code_action"], "stage1_top1_ok": false, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_did_change\",\"lsp_code_action\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_did_change", "lsp_code_action"], "stage2_selected_tool": "lsp_code_action", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_code_action\"}", "final_pred_tools": ["lsp_code_action", "lsp_did_change"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.9978, "stage2_latency_s": 0.9758, "latency_s": 1.9736}
{"id": 72, "query": "这个错误位置有什么 quick fix？", "expected_primary": "lsp_code_action", "expected_tools": ["lsp_code_action"], "stage1_pred_tools": ["lsp_diagnostics", "lsp_code_action"], "stage1_top1_ok": false, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_diagnostics\",\"lsp_code_action\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_diagnostics", "lsp_code_action"], "stage2_selected_tool": "lsp_code_action", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_code_action\"}", "final_pred_tools": ["lsp_code_action", "lsp_diagnostics"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.7467, "stage2_latency_s": 0.9045, "latency_s": 1.6512}
{"id": 73, "query": "请求 textDocument/codeAction 列表。", "expected_primary": "lsp_code_action", "expected_tools": ["lsp_code_action"], "stage1_pred_tools": ["lsp_code_action"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_code_action\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_code_action", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_code_action", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_code_action\"}", "final_pred_tools": ["lsp_code_action"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5123, "stage2_latency_s": 0.8993, "latency_s": 1.4116}
{"id": 74, "query": "给我当前范围的重构建议。", "expected_primary": "lsp_code_action", "expected_tools": ["lsp_code_action"], "stage1_pred_tools": ["lsp_code_action"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_code_action\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_code_action", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_code_action", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_code_action\"}", "final_pred_tools": ["lsp_code_action"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5099, "stage2_latency_s": 0.8946, "latency_s": 1.4045}
{"id": 75, "query": "查看该诊断点可执行的修复动作。", "expected_primary": "lsp_code_action", "expected_tools": ["lsp_code_action"], "stage1_pred_tools": ["lsp_code_action"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_code_action\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_code_action", "lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_code_action", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_code_action\"}", "final_pred_tools": ["lsp_code_action"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5492, "stage2_latency_s": 1.0312, "latency_s": 1.5804}
{"id": 76, "query": "函数调用处请求 signature help。", "expected_primary": "lsp_signature_help", "expected_tools": ["lsp_signature_help"], "stage1_pred_tools": ["lsp_signature_help"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_signature_help\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_signature_help"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5368, "stage2_latency_s": 0.0, "latency_s": 0.5368}
{"id": 77, "query": "我输入到参数列表里了，显示函数签名。", "expected_primary": "lsp_signature_help", "expected_tools": ["lsp_signature_help"], "stage1_pred_tools": ["lsp_signature_help"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_signature_help\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_signature_help"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5187, "stage2_latency_s": 0.0, "latency_s": 0.5187}
{"id": 78, "query": "查看当前位置的参数提示。", "expected_primary": "lsp_signature_help", "expected_tools": ["lsp_signature_help"], "stage1_pred_tools": ["lsp_signature_help"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_signature_help\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_signature_help"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5151, "stage2_latency_s": 0.0, "latency_s": 0.5151}
{"id": 79, "query": "触发 signatureHelp。", "expected_primary": "lsp_signature_help", "expected_tools": ["lsp_signature_help"], "stage1_pred_tools": ["lsp_signature_help"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_signature_help\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_signature_help"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5221, "stage2_latency_s": 0.0, "latency_s": 0.5221}
{"id": 80, "query": "需要当前调用的入参说明。", "expected_primary": "lsp_signature_help", "expected_tools": ["lsp_signature_help"], "stage1_pred_tools": ["lsp_open_file"], "stage1_top1_ok": false, "stage1_hit_primary_ok": false, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_open_file\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_open_file"], "top1_ok": false, "hit_primary_ok": false, "exact_set_ok": false, "stage1_latency_s": 0.5135, "stage2_latency_s": 0.0, "latency_s": 0.5135}
{"id": 81, "query": "格式化整个 internal/lsp/client.go 文档。", "expected_primary": "lsp_format", "expected_tools": ["lsp_format"], "stage1_pred_tools": ["lsp_format"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_format\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_format"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4577, "stage2_latency_s": 0.0, "latency_s": 0.4577}
{"id": 82, "query": "对当前文件执行 document formatting。", "expected_primary": "lsp_format", "expected_tools": ["lsp_format"], "stage1_pred_tools": ["lsp_format"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_format\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_format"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4631, "stage2_latency_s": 0.0, "latency_s": 0.4631}
{"id": 83, "query": "把这份 Go 文件按 LSP 规则格式化。", "expected_primary": "lsp_format", "expected_tools": ["lsp_format"], "stage1_pred_tools": ["lsp_format"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_format\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_format"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4833, "stage2_latency_s": 0.0, "latency_s": 0.4833}
{"id": 84, "query": "我要统一缩进和空格，请 format。", "expected_primary": "lsp_format", "expected_tools": ["lsp_format"], "stage1_pred_tools": ["lsp_format"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_format\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_format"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4699, "stage2_latency_s": 0.0, "latency_s": 0.4699}
{"id": 85, "query": "执行 lsp_format。", "expected_primary": "lsp_format", "expected_tools": ["lsp_format"], "stage1_pred_tools": ["lsp_format"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_format\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_format"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4844, "stage2_latency_s": 0.0, "latency_s": 0.4844}
{"id": 86, "query": "获取该文件的 semantic tokens。", "expected_primary": "lsp_semantic_tokens", "expected_tools": ["lsp_semantic_tokens"], "stage1_pred_tools": ["lsp_semantic_tokens"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_semantic_tokens\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_semantic_tokens"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5485, "stage2_latency_s": 0.0, "latency_s": 0.5485}
{"id": 87, "query": "请求语义高亮 token 数据。", "expected_primary": "lsp_semantic_tokens", "expected_tools": ["lsp_semantic_tokens"], "stage1_pred_tools": ["lsp_semantic_tokens"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_semantic_tokens\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_semantic_tokens"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5525, "stage2_latency_s": 0.0, "latency_s": 0.5525}
{"id": 88, "query": "返回 textDocument/semanticTokens/full。", "expected_primary": "lsp_semantic_tokens", "expected_tools": ["lsp_semantic_tokens"], "stage1_pred_tools": ["lsp_semantic_tokens"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_semantic_tokens\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_semantic_tokens"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5401, "stage2_latency_s": 0.0, "latency_s": 0.5401}
{"id": 89, "query": "我要语义标记结果用于着色。", "expected_primary": "lsp_semantic_tokens", "expected_tools": ["lsp_semantic_tokens"], "stage1_pred_tools": ["lsp_semantic_tokens"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_semantic_tokens\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_semantic_tokens"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5421, "stage2_latency_s": 0.0, "latency_s": 0.5421}
{"id": 90, "query": "执行 semantic tokens 查询。", "expected_primary": "lsp_semantic_tokens", "expected_tools": ["lsp_semantic_tokens"], "stage1_pred_tools": ["lsp_semantic_tokens"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_semantic_tokens\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_semantic_tokens"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.543, "stage2_latency_s": 0.0, "latency_s": 0.543}
{"id": 91, "query": "获取该文件可折叠区域。", "expected_primary": "lsp_folding_range", "expected_tools": ["lsp_folding_range"], "stage1_pred_tools": ["lsp_folding_range"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_folding_range\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_folding_range"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5443, "stage2_latency_s": 0.0, "latency_s": 0.5443}
{"id": 92, "query": "请求 folding ranges。", "expected_primary": "lsp_folding_range", "expected_tools": ["lsp_folding_range"], "stage1_pred_tools": ["lsp_folding_range"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_folding_range\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_folding_range"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5377, "stage2_latency_s": 0.0, "latency_s": 0.5377}
{"id": 93, "query": "返回代码折叠区间列表。", "expected_primary": "lsp_folding_range", "expected_tools": ["lsp_folding_range"], "stage1_pred_tools": ["lsp_folding_range"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_folding_range\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_folding_range"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5574, "stage2_latency_s": 0.0, "latency_s": 0.5574}
{"id": 94, "query": "我想知道哪些块可以折叠。", "expected_primary": "lsp_folding_range", "expected_tools": ["lsp_folding_range"], "stage1_pred_tools": ["lsp_folding_range"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_folding_range\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_folding_range"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5863, "stage2_latency_s": 0.0, "latency_s": 0.5863}
{"id": 95, "query": "执行 folding range。", "expected_primary": "lsp_folding_range", "expected_tools": ["lsp_folding_range"], "stage1_pred_tools": ["lsp_folding_range"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_folding_range\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_folding_range"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5467, "stage2_latency_s": 0.0, "latency_s": 0.5467}
{"id": 96, "query": "在项目范围搜索 ServerConfig 符号。", "expected_primary": "lsp_workspace_symbol", "expected_tools": ["lsp_workspace_symbol"], "stage1_pred_tools": ["lsp_workspace_symbol", "lsp_document_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_workspace_symbol\",\"lsp_document_symbol\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_workspace_symbol", "lsp_document_symbol"], "stage2_selected_tool": "lsp_workspace_symbol", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_workspace_symbol\"}", "final_pred_tools": ["lsp_workspace_symbol", "lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.7296, "stage2_latency_s": 0.9283, "latency_s": 1.6579}
{"id": 97, "query": "把 line 120 col 8 的标识符跳到定义。", "expected_primary": "lsp_definition", "expected_tools": ["lsp_definition"], "stage1_pred_tools": ["lsp_definition"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_definition\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_definition", "lsp_references"], "stage2_selected_tool": "lsp_definition", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_definition\"}", "final_pred_tools": ["lsp_definition"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.457, "stage2_latency_s": 0.8097, "latency_s": 1.2667}
{"id": 98, "query": "这个接口方法实现在哪些 struct 里？", "expected_primary": "lsp_implementation", "expected_tools": ["lsp_implementation"], "stage1_pred_tools": ["lsp_document_symbol", "lsp_references"], "stage1_top1_ok": false, "stage1_hit_primary_ok": false, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\",\"lsp_references\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_document_symbol", "lsp_references", "lsp_implementation"], "stage2_selected_tool": "lsp_implementation", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_implementation\"}", "final_pred_tools": ["lsp_implementation", "lsp_document_symbol", "lsp_references"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.6613, "stage2_latency_s": 0.9259, "latency_s": 1.5872}
{"id": 99, "query": "变量 err 的真实类型定义位置在哪？", "expected_primary": "lsp_type_definition", "expected_tools": ["lsp_type_definition"], "stage1_pred_tools": ["lsp_definition", "lsp_type_definition"], "stage1_top1_ok": false, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_definition\",\"lsp_type_definition\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_definition", "lsp_type_definition"], "stage2_selected_tool": "lsp_type_definition", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_typeDefinition\"}", "final_pred_tools": ["lsp_type_definition", "lsp_definition"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.7223, "stage2_latency_s": 0.8352, "latency_s": 1.5575}
{"id": 100, "query": "诊断报错处给出 quick fix 动作。", "expected_primary": "lsp_code_action", "expected_tools": ["lsp_code_action"], "stage1_pred_tools": ["lsp_diagnostics", "lsp_code_action"], "stage1_top1_ok": false, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_diagnostics\",\"lsp_code_action\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_diagnostics", "lsp_code_action"], "stage2_selected_tool": "lsp_code_action", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_code_action\"}", "final_pred_tools": ["lsp_code_action", "lsp_diagnostics"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.7025, "stage2_latency_s": 0.9362, "latency_s": 1.6387}
