{"id": 1, "query": "请先打开 internal/apiserver/methods.go 文件，我要开始分析。", "expected_primary": "lsp_open_file", "expected_tools": ["lsp_open_file"], "stage1_pred_tools": ["lsp_open_file"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_open_file\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_open_file"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5863, "stage2_latency_s": 0.0, "latency_s": 0.5863}
{"id": 2, "query": "先把 internal/lsp/manager.go 打开到 LSP 上下文里。", "expected_primary": "lsp_open_file", "expected_tools": ["lsp_open_file"], "stage1_pred_tools": ["lsp_open_file"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_open_file\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_open_file"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5297, "stage2_latency_s": 0.0, "latency_s": 0.5297}
{"id": 3, "query": "分析前先 open 这个文件：cmd/agent-terminal/main.go。", "expected_primary": "lsp_open_file", "expected_tools": ["lsp_open_file"], "stage1_pred_tools": ["lsp_open_file"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_open_file\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_open_file"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5245, "stage2_latency_s": 0.0, "latency_s": 0.5245}
{"id": 4, "query": "把 pkg/logger/logger.go 先加载到编辑器上下文。", "expected_primary": "lsp_open_file", "expected_tools": ["lsp_open_file"], "stage1_pred_tools": ["lsp_open_file"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_open_file\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_open_file"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5359, "stage2_latency_s": 0.0, "latency_s": 0.5359}
{"id": 5, "query": "先打开 internal/config/config.go，后面再看代码。", "expected_primary": "lsp_open_file", "expected_tools": ["lsp_open_file"], "stage1_pred_tools": ["lsp_open_file", "lsp_document_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_open_file\",\"lsp_document_symbol\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_open_file", "lsp_document_symbol"], "stage2_selected_tool": "lsp_open_file", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_open_file\"}", "final_pred_tools": ["lsp_open_file", "lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.764, "stage2_latency_s": 10.1861, "latency_s": 10.9501}
{"id": 6, "query": "列出 internal/lsp/manager.go 的函数和类型大纲。", "expected_primary": "lsp_document_symbol", "expected_tools": ["lsp_document_symbol"], "stage1_pred_tools": ["lsp_document_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.6822, "stage2_latency_s": 0.0, "latency_s": 0.6822}
{"id": 7, "query": "给我这个文件的 symbol 列表（函数/方法/结构体）。", "expected_primary": "lsp_document_symbol", "expected_tools": ["lsp_document_symbol"], "stage1_pred_tools": ["lsp_document_symbol", "lsp_workspace_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\",\"lsp_workspace_symbol\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_document_symbol", "lsp_workspace_symbol"], "stage2_selected_tool": "lsp_document_symbol", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_document_symbol\"}", "final_pred_tools": ["lsp_document_symbol", "lsp_workspace_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.7505, "stage2_latency_s": 1.1278, "latency_s": 1.8783}
{"id": 8, "query": "查看 cmd/agent-terminal/main.go 的文档符号树。", "expected_primary": "lsp_document_symbol", "expected_tools": ["lsp_document_symbol"], "stage1_pred_tools": ["lsp_document_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.54, "stage2_latency_s": 0.0, "latency_s": 0.54}
{"id": 9, "query": "我想看 internal/apiserver/server.go 的 outline。", "expected_primary": "lsp_document_symbol", "expected_tools": ["lsp_document_symbol"], "stage1_pred_tools": ["lsp_document_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5322, "stage2_latency_s": 0.0, "latency_s": 0.5322}
{"id": 10, "query": "请返回这个 Go 文件的顶层符号清单。", "expected_primary": "lsp_document_symbol", "expected_tools": ["lsp_document_symbol"], "stage1_pred_tools": ["lsp_document_symbol"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_document_symbol\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_document_symbol"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5385, "stage2_latency_s": 0.0, "latency_s": 0.5385}
{"id": 11, "query": "在 internal/lsp/manager.go 第120行第15列做 hover 看类型说明。", "expected_primary": "lsp_hover", "expected_tools": ["lsp_hover"], "stage1_pred_tools": ["lsp_hover"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_hover\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_hover"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4875, "stage2_latency_s": 0.0, "latency_s": 0.4875}
{"id": 12, "query": "帮我查看变量 ctx 的 hover 文档。", "expected_primary": "lsp_hover", "expected_tools": ["lsp_hover"], "stage1_pred_tools": ["lsp_hover"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_hover\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_hover"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5006, "stage2_latency_s": 0.0, "latency_s": 0.5006}
{"id": 13, "query": "鼠标悬停位置 line 45 col 18，取出注释与签名。", "expected_primary": "lsp_hover", "expected_tools": ["lsp_hover"], "stage1_pred_tools": ["lsp_hover", "lsp_signature_help"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_hover\",\"lsp_signature_help\"]}", "stage2_triggered": true, "stage2_model": "qwen2.5:14b", "stage2_candidate_pool": ["lsp_hover", "lsp_signature_help"], "stage2_selected_tool": "lsp_hover", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "{\"tool\":\"lsp_hover\"}", "final_pred_tools": ["lsp_hover", "lsp_signature_help"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": false, "stage1_latency_s": 0.7297, "stage2_latency_s": 1.0456, "latency_s": 1.7753}
{"id": 14, "query": "看一下函数 NewServer 在该位置的 hover 信息。", "expected_primary": "lsp_hover", "expected_tools": ["lsp_hover"], "stage1_pred_tools": ["lsp_hover"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_hover\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_hover"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4918, "stage2_latency_s": 0.0, "latency_s": 0.4918}
{"id": 15, "query": "需要目标符号的类型文档，请走 hover。", "expected_primary": "lsp_hover", "expected_tools": ["lsp_hover"], "stage1_pred_tools": ["lsp_hover"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_hover\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_hover"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.4844, "stage2_latency_s": 0.0, "latency_s": 0.4844}
{"id": 16, "query": "检查 internal/lsp/manager.go 当前诊断错误和警告。", "expected_primary": "lsp_diagnostics", "expected_tools": ["lsp_diagnostics"], "stage1_pred_tools": ["lsp_diagnostics"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_diagnostics\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_diagnostics"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5378, "stage2_latency_s": 0.0, "latency_s": 0.5378}
{"id": 17, "query": "读取这个文件的 diagnostics。", "expected_primary": "lsp_diagnostics", "expected_tools": ["lsp_diagnostics"], "stage1_pred_tools": ["lsp_diagnostics"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_diagnostics\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_diagnostics"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.526, "stage2_latency_s": 0.0, "latency_s": 0.526}
{"id": 18, "query": "看下有没有编译错误、lint 警告。", "expected_primary": "lsp_diagnostics", "expected_tools": ["lsp_diagnostics"], "stage1_pred_tools": ["lsp_diagnostics"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_diagnostics\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_diagnostics"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5338, "stage2_latency_s": 0.0, "latency_s": 0.5338}
{"id": 19, "query": "请返回最新诊断列表。", "expected_primary": "lsp_diagnostics", "expected_tools": ["lsp_diagnostics"], "stage1_pred_tools": ["lsp_diagnostics"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_diagnostics\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_diagnostics"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.532, "stage2_latency_s": 0.0, "latency_s": 0.532}
{"id": 20, "query": "我需要当前文件问题清单（error/warning）。", "expected_primary": "lsp_diagnostics", "expected_tools": ["lsp_diagnostics"], "stage1_pred_tools": ["lsp_diagnostics"], "stage1_top1_ok": true, "stage1_hit_primary_ok": true, "stage1_parse_error": "", "stage1_call_error": "", "stage1_raw_response_text": "{\"tools\":[\"lsp_diagnostics\"]}", "stage2_triggered": false, "stage2_model": "", "stage2_candidate_pool": [], "stage2_selected_tool": "", "stage2_parse_error": "", "stage2_call_error": "", "stage2_raw_response_text": "", "final_pred_tools": ["lsp_diagnostics"], "top1_ok": true, "hit_primary_ok": true, "exact_set_ok": true, "stage1_latency_s": 0.5335, "stage2_latency_s": 0.0, "latency_s": 0.5335}
